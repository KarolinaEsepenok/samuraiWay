"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[75],{5075:function(s,t,e){e.r(t),e.d(t,{default:function(){return O}});var a=e(7853),i=e(4531),o=e(8932),r=e(2587),n=e(2791),u="ProfileInfo_descriptionBlock__vZpNw",l="ProfileInfo_profileImgCommon__M7b56",p="ProfileInfo_status__JxXDI",d="ProfileInfo_statusInput__BwVrf",c="ProfileInfo_changeAvatar__5l9ws",h="ProfileInfo_labelChangeAva__Ed2rX",f=e(4374),m=e(184),v=function(s){(0,o.Z)(e,s);var t=(0,r.Z)(e);function e(){var s;(0,a.Z)(this,e);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(s=t.call.apply(t,[this].concat(o))).state={editMode:!1,status:s.props.status},s.activateEditMode=function(){s.setState({editMode:!0})},s.deactivateEditMode=function(){s.setState({editMode:!1}),s.props.updateStatus(s.state.status)},s.onStatusChange=function(t){s.setState({status:t.currentTarget.value})},s}return(0,i.Z)(e,[{key:"componentDidUpdate",value:function(s,t,e){s.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,m.jsxs)("div",{children:[!this.state.editMode&&(0,m.jsx)("div",{className:p,title:"Change status",children:(0,m.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"my status"})}),this.state.editMode&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{className:d,onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),e}(n.Component),A=v;var P=e.p+"static/media/user.c994db3bc333639a8e11b98846536313.svg",C=e(1478);var g=function(s){var t;if(!s.profile)return(0,m.jsx)(f.Z,{isFetching:!0});var e=null===(t=s.profile)||void 0===t?void 0:t.photos.small;return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{}),(0,m.jsxs)("div",{className:u,children:[e?(0,m.jsx)("img",{src:e}):(0,m.jsx)("img",{className:l,src:P}),s.isOwner&&(0,m.jsxs)("label",{className:h,title:"Change photo",children:[(0,m.jsx)("img",{src:C}),(0,m.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&s.savePhoto(t.target.files[0])},className:c})]}),(0,m.jsx)(A,{status:s.status,updateStatus:s.updateStatus})]})]})},x=e(2177),j="MyPosts_postsBlock__Slp+C",_="MyPosts_posts__bCJ6H",S="MyPosts_MyPostFormContainer__NXsDG",M="MyPosts_MyPostButtonContainer__NjecQ",k="MyPosts_MyPostButton__3fyY8",N="Post_itemPost__61NXM",y="Post_itemPostImgMessage__PUc1Q",I="Post_itemPostMessage__46aik",b="Post_itemPostLikes__Beroc";var B=function(s){return(0,m.jsxs)("div",{className:N,children:[(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)("img",{src:P}),(0,m.jsx)("div",{className:I,children:s.message})]}),(0,m.jsxs)("div",{className:b,children:["like ",s.likeCounts]})]})},w=e(6139),Z=e(704),D=e(3079),E=e(1117);var Q=function(s){var t=s.profilePage.posts.map((function(s){return(0,m.jsx)(B,{message:s.message,likeCounts:s.likeCounts})}));return(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)("h2",{children:"My posts"}),(0,m.jsx)(U,{onSubmit:function(t){s.addPost(t.newPostText)}}),(0,m.jsx)("div",{className:_,children:t})]})},q=(0,D.D)(10),U=(0,Z.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,m.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,m.jsx)("div",{className:S,children:(0,m.jsx)(w.Z,{name:"newPostText",component:E.gx,validate:[D.C,q],placeholder:"Post message"})}),(0,m.jsx)("div",{className:M,children:(0,m.jsx)("button",{className:k,children:"Add post"})})]})})),X=e(307),G=(0,x.$j)((function(s){return{profilePage:s.profilePage}}),(function(s){return{addPost:function(t){s((0,X.Wl)(t))}}}))(Q),V="Profile_ProfileContainer__S-ACq";var H=function(s){return(0,m.jsxs)("div",{className:V,children:[(0,m.jsx)(g,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,m.jsx)(G,{})]})},R=e(2558),W=e(2932),T=e(2789),F=function(s){(0,o.Z)(e,s);var t=(0,r.Z)(e);function e(){return(0,a.Z)(this,e),t.apply(this,arguments)}return(0,i.Z)(e,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=Number(this.props.userId))||this.props.history.push("/login"),this.props.getUserProfile(+s),this.props.getStatus(+s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,t,e){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)("div",{children:this.props.profile&&(0,m.jsx)(H,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(n.Component),O=(0,T.qC)((0,x.$j)((function(s){return{profile:s.profilePage.profile,userId:s.auth.userId,status:s.profilePage.status,isAuth:s.auth.isAuth}}),{getUserProfile:X.et,getStatus:X.lR,updateStatus:X.Nf,savePhoto:X.Ju}),R.EN,W.D)(F)},1478:function(s){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMcSURBVHgBtZe/VuJAFMYnHgutzFbaOZ12Zhu1Y620030CfQN4A/UNlCfQkmqXDiqWDqqFDqoNHXShAir2/nImnMBmIGHDd841MMS53/07dxyVEvP53JXHg0hBxBPRIq75ORDxRToiTZGfjuMEafZ1Nr0girU8ipPJ5Gk0Grn9fl/5vq+CIFDT6TR85+DgQJ2cnIRyenqqzs/PWf4QeRUi/lYEjMXPoqTUbrdVq9VaKNwE13WV53nq4uKCz2+GSJCagLG6IUp1s9lMrTiJSKFQgIwvX2+SvOEkKCe+P+r1usbqPHB9fa1ub299+fhdSHSsBCLLq9Wq7nQ6Kk8Qkvv7e1+teGIvppyYN7A8b+WAPdkbHUbXMgHBs7yUm9uTwN7kFbqWCOB6KasSCbdrmKQumXAvPID1YW3vGlQUZS0o8WffxOOp2+2m3oTyurq6Cp+QphFhWVoDCMXl5eWj6H7Zl+8PvV5v7T/TULTWS2uSUIv+ABEps6V+Qbe0GcV7dFXZ8wECBV624ezsLFQgpWl9B/KVSmVpDULj8VjZ9qalC4ECOeAJG2UD/d1mCa5HkkCcORdsMMQ8PKCHw6HKClpsRACXEpIsMCHXEHCz9nrCgnujsuX0Yw23poXR6e6pLUBY4rHFGta2AQQCWxxtGAwGYRlGwANZyhgYnQEh8CXLvSx5gPVsIIdL+B3XZ21ixmM+BLqSrVYCs9kscZ3egdiwyauGQAcCv8SFj6Y9/gOsJeOznJAop3HZ9gSmRJsOrVjmvT/lctlaDTQiGGfJFbyzbr9iscjHL/vMakLiU5KqaDsNiW+eBxXDieAD3VEZvjE2Za2GbYD1nC2CV/6EBBiRRPk7sd410CEk3qOxbDETmmP5d61W0+uS538QG06/RmP6ohOahZu7uzvfxChXsKdRfhO/I1jH8jw9kXosj5HQ8mgwpGaZdFZBUhNzIeCrtBeTGAly4kWUF2lC9Pq0RFDMWWEq6519Ml3NVohoNhB5pLnQGWnbDDHxy+nR0VHY/TiYjo+Pg8PDw0/56W3ry2kCkeh6/k2EQtYqh+v5X5EivcpeVbqxAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=75.fc0750d3.chunk.js.map