"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[523],{9523:function(s,e,t){t.r(e),t.d(e,{default:function(){return K}});var i=t(7853),o=t(4531),r=t(8932),n=t(2587),a=t(2791),l=t(3430),u="ProfileInfo_descriptionBlock__vZpNw",d="ProfileInfo_profileImgCommon__M7b56",p="ProfileInfo_status__JxXDI",c="ProfileInfo_statusInput__BwVrf",f="ProfileInfo_changeAvatar__5l9ws",h="ProfileInfo_labelChangeAva__Ed2rX",v="ProfileInfo_profileInformation__MpVIF",m=t(4374),A=t(184),g=function(s){(0,r.Z)(t,s);var e=(0,n.Z)(t);function t(){var s;(0,i.Z)(this,t);for(var o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(s=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:s.props.status},s.activateEditMode=function(){s.setState({editMode:!0})},s.deactivateEditMode=function(){s.setState({editMode:!1}),s.props.updateStatus(s.state.status)},s.onStatusChange=function(e){s.setState({status:e.currentTarget.value})},s}return(0,o.Z)(t,[{key:"componentDidUpdate",value:function(s,e,t){s.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,A.jsxs)("div",{children:[!this.state.editMode&&(0,A.jsx)("div",{className:p,title:"Change status",children:(0,A.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"my status"})}),this.state.editMode&&(0,A.jsx)("div",{children:(0,A.jsx)("input",{className:c,onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),t}(a.Component),j=g;var x=t.p+"static/media/user.c994db3bc333639a8e11b98846536313.svg",P=t(1478),C=function(s){return(0,A.jsxs)("div",{className:v,children:[s.isOwner&&(0,A.jsx)("div",{}),(0,A.jsxs)("div",{children:["Full name: ",s.profile.fullName]}),(0,A.jsxs)("div",{children:["Looking for a job: ",s.profile.lookingForAJob?"Yes":"No"]}),s.profile.lookingForAJob&&(0,A.jsxs)("div",{children:["My professional skills: ",s.profile.lookingForAJobDescription]}),(0,A.jsxs)("div",{children:["Contacts:",(0,A.jsxs)("div",{children:[" Website: ",s.profile.website]}),s.profile.website&&(0,A.jsxs)("div",{children:[" Website: ",s.profile.website]}),s.profile.github&&(0,A.jsxs)("div",{children:[" Github: ",s.profile.github]}),s.profile.instagram&&(0,A.jsxs)("div",{children:[" Instagram: ",s.profile.instagram]}),s.profile.vk&&(0,A.jsxs)("div",{children:[" VK: ",s.profile.vk]}),s.profile.facebook&&(0,A.jsxs)("div",{children:[" Facebook: ",s.profile.facebook]}),s.profile.twitter&&(0,A.jsxs)("div",{children:[" Twitter: ",s.profile.twitter]}),s.profile.youtube&&(0,A.jsxs)("div",{children:[" Youtube: ",s.profile.youtube]})]})]})},b=t(1117),k=function(s){return(0,A.jsxs)("form",{className:v,children:[(0,A.jsx)("div",{children:(0,A.jsx)("button",{onClick:s.goToEditMode,children:"Save"})}),(0,A.jsxs)("div",{children:["Full name: ",(0,b.Gr)("Fullname","fullName",[],b.II,s)]}),(0,A.jsxs)("div",{children:["Looking for a job: ",s.profile.lookingForAJob?"Yes":"No"]}),s.profile.lookingForAJob&&(0,A.jsxs)("div",{children:["My professional skills: ",s.profile.lookingForAJobDescription]})]})};var _=function(s){var e,t=(0,a.useState)(!1),i=(0,l.Z)(t,2),o=i[0],r=i[1];if(!s.profile)return(0,A.jsx)(m.Z,{isFetching:!0});var n=null===(e=s.profile)||void 0===e?void 0:e.photos.small;return(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:u,children:[n?(0,A.jsx)("img",{className:d,src:n}):(0,A.jsx)("img",{className:d,src:x}),s.isOwner&&(0,A.jsxs)("label",{className:h,title:"Change photo",children:[(0,A.jsx)("img",{src:P}),(0,A.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s.savePhoto(e.target.files[0])},className:f})]}),(0,A.jsx)(j,{status:s.status,updateStatus:s.updateStatus}),o?(0,A.jsx)(k,{isOwner:s.isOwner,goToEditMode:function(){r(!0)},profile:s.profile}):(0,A.jsx)(C,{goToEditMode:function(){r(!0)},profile:s.profile,isOwner:s.isOwner})]})})},M=t(2177),N="MyPosts_postsBlock__Slp+C",S="MyPosts_posts__bCJ6H",w="MyPosts_MyPostFormContainer__NXsDG",I="MyPosts_MyPostButtonContainer__NjecQ",y="MyPosts_MyPostButton__3fyY8",B="Post_itemPost__61NXM",E="Post_itemPostImgMessage__PUc1Q",D="Post_itemPostMessage__46aik",F="Post_itemPostLikes__Beroc";var Z=function(s){return(0,A.jsxs)("div",{className:B,children:[(0,A.jsxs)("div",{className:E,children:[(0,A.jsx)("img",{src:x}),(0,A.jsx)("div",{className:D,children:s.message})]}),(0,A.jsxs)("div",{className:F,children:["like ",s.likeCounts]})]})},Q=t(6139),q=t(704),G=t(3079);var U=function(s){var e=s.profilePage.posts.map((function(s){return(0,A.jsx)(Z,{message:s.message,likeCounts:s.likeCounts})}));return(0,A.jsxs)("div",{className:N,children:[(0,A.jsx)("h2",{children:"My posts"}),(0,A.jsx)(X,{onSubmit:function(e){s.addPost(e.newPostText)}}),(0,A.jsx)("div",{className:S,children:e})]})},V=(0,G.D)(10),X=(0,q.Z)({form:"ProfileAddNewPostForm"})((function(s){return(0,A.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,A.jsx)("div",{className:w,children:(0,A.jsx)(Q.Z,{name:"newPostText",component:b.gx,validate:[G.C,V],placeholder:"Post message"})}),(0,A.jsx)("div",{className:I,children:(0,A.jsx)("button",{className:y,children:"Add post"})})]})})),T=t(307),O=(0,M.$j)((function(s){return{profilePage:s.profilePage}}),(function(s){return{addPost:function(e){s((0,T.Wl)(e))}}}))(U),W="Profile_ProfileContainer__S-ACq";var H=function(s){return(0,A.jsxs)("div",{className:W,children:[(0,A.jsx)(_,{savePhoto:s.savePhoto,isOwner:s.isOwner,profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,A.jsx)(O,{})]})},R=t(2558),Y=t(2932),J=t(2789),L=function(s){(0,r.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,i.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=Number(this.props.userId))||this.props.history.push("/login"),this.props.getUserProfile(+s),this.props.getStatus(+s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!=s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,A.jsx)("div",{children:this.props.profile&&(0,A.jsx)(H,{isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),t}(a.Component),K=(0,J.qC)((0,M.$j)((function(s){return{profile:s.profilePage.profile,userId:s.auth.userId,status:s.profilePage.status,isAuth:s.auth.isAuth}}),{getUserProfile:T.et,getStatus:T.lR,updateStatus:T.Nf,savePhoto:T.Ju}),R.EN,Y.D)(L)},1478:function(s){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMcSURBVHgBtZe/VuJAFMYnHgutzFbaOZ12Zhu1Y620030CfQN4A/UNlCfQkmqXDiqWDqqFDqoNHXShAir2/nImnMBmIGHDd841MMS53/07dxyVEvP53JXHg0hBxBPRIq75ORDxRToiTZGfjuMEafZ1Nr0girU8ipPJ5Gk0Grn9fl/5vq+CIFDT6TR85+DgQJ2cnIRyenqqzs/PWf4QeRUi/lYEjMXPoqTUbrdVq9VaKNwE13WV53nq4uKCz2+GSJCagLG6IUp1s9lMrTiJSKFQgIwvX2+SvOEkKCe+P+r1usbqPHB9fa1ub299+fhdSHSsBCLLq9Wq7nQ6Kk8Qkvv7e1+teGIvppyYN7A8b+WAPdkbHUbXMgHBs7yUm9uTwN7kFbqWCOB6KasSCbdrmKQumXAvPID1YW3vGlQUZS0o8WffxOOp2+2m3oTyurq6Cp+QphFhWVoDCMXl5eWj6H7Zl+8PvV5v7T/TULTWS2uSUIv+ABEps6V+Qbe0GcV7dFXZ8wECBV624ezsLFQgpWl9B/KVSmVpDULj8VjZ9qalC4ECOeAJG2UD/d1mCa5HkkCcORdsMMQ8PKCHw6HKClpsRACXEpIsMCHXEHCz9nrCgnujsuX0Yw23poXR6e6pLUBY4rHFGta2AQQCWxxtGAwGYRlGwANZyhgYnQEh8CXLvSx5gPVsIIdL+B3XZ21ixmM+BLqSrVYCs9kscZ3egdiwyauGQAcCv8SFj6Y9/gOsJeOznJAop3HZ9gSmRJsOrVjmvT/lctlaDTQiGGfJFbyzbr9iscjHL/vMakLiU5KqaDsNiW+eBxXDieAD3VEZvjE2Za2GbYD1nC2CV/6EBBiRRPk7sd410CEk3qOxbDETmmP5d61W0+uS538QG06/RmP6ohOahZu7uzvfxChXsKdRfhO/I1jH8jw9kXosj5HQ8mgwpGaZdFZBUhNzIeCrtBeTGAly4kWUF2lC9Pq0RFDMWWEq6519Ml3NVohoNhB5pLnQGWnbDDHxy+nR0VHY/TiYjo+Pg8PDw0/56W3ry2kCkeh6/k2EQtYqh+v5X5EivcpeVbqxAAAAAElFTkSuQmCC"}}]);
//# sourceMappingURL=523.9f0b2171.chunk.js.map