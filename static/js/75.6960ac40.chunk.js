"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[75],{5075:function(t,s,e){e.r(s),e.d(s,{default:function(){return $}});var i=e(7853),a=e(4531),o=e(8932),r=e(2587),n=e(2791),u="ProfileInfo_descriptionBlock__vZpNw",d="ProfileInfo_profileImgCommon__M7b56",l=e(4374),c=e(184),p=function(t){(0,o.Z)(e,t);var s=(0,r.Z)(e);function e(){var t;(0,i.Z)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=s.call.apply(s,[this].concat(o))).state={editMode:!1,status:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus(t.state.status)},t.onStatusChange=function(s){t.setState({status:s.currentTarget.value})},t}return(0,a.Z)(e,[{key:"componentDidUpdate",value:function(t,s,e){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,c.jsxs)("div",{children:[!this.state.editMode&&(0,c.jsx)("div",{children:(0,c.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"____"})}),this.state.editMode&&(0,c.jsx)("div",{children:(0,c.jsx)("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status})})]})}}]),e}(n.Component),h=p;var f=e.p+"static/media/user.c994db3bc333639a8e11b98846536313.svg";var m=function(t){var s;if(!t.profile)return(0,c.jsx)(l.Z,{isFetching:!0});var e=null===(s=t.profile)||void 0===s?void 0:s.photos.small;return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{}),(0,c.jsxs)("div",{className:u,children:[e?(0,c.jsx)("img",{src:e}):(0,c.jsx)("img",{className:d,src:f}),(0,c.jsx)(h,{status:t.status,updateStatus:t.updateStatus})]})]})},v=e(2177),_="MyPosts_postsBlock__Slp+C",j="MyPosts_posts__bCJ6H",x="MyPosts_MyPostFormContainer__NXsDG",P="MyPosts_MyPostButtonContainer__NjecQ",g="MyPosts_MyPostButton__3fyY8",M="Post_itemPost__61NXM",S="Post_itemPostImgMessage__PUc1Q",y="Post_itemPostMessage__46aik",C="Post_itemPostLikes__Beroc";var N=function(t){return(0,c.jsxs)("div",{className:M,children:[(0,c.jsxs)("div",{className:S,children:[(0,c.jsx)("img",{src:f}),(0,c.jsx)("div",{className:y,children:t.message})]}),(0,c.jsxs)("div",{className:C,children:["like ",t.likeCounts]})]})},k=e(6139),b=e(704),Z=e(3079),w=e(1117);var I=function(t){var s=t.profilePage.posts.map((function(t){return(0,c.jsx)(N,{message:t.message,likeCounts:t.likeCounts})}));return(0,c.jsxs)("div",{className:_,children:[(0,c.jsx)("h2",{children:"My posts"}),(0,c.jsx)(B,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,c.jsx)("div",{className:j,children:s})]})},A=(0,Z.D)(10),B=(0,b.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,c.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,c.jsx)("div",{className:x,children:(0,c.jsx)(k.Z,{name:"newPostText",component:w.gx,validate:[Z.C,A],placeholder:"Post message"})}),(0,c.jsx)("div",{className:P,children:(0,c.jsx)("button",{className:g,children:"Add post"})})]})})),D=e(307),E=(0,v.$j)((function(t){return{profilePage:t.profilePage}}),(function(t){return{addPost:function(s){t((0,D.Wl)(s))}}}))(I),F="Profile_ProfileContainer__S-ACq";var U=function(t){return(0,c.jsxs)("div",{className:F,children:[(0,c.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,c.jsx)(E,{})]})},T=e(2558),q=e(2932),Q=e(2789),X=function(t){(0,o.Z)(e,t);var s=(0,r.Z)(e);function e(){return(0,i.Z)(this,e),s.apply(this,arguments)}return(0,a.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=Number(this.props.userId))||this.props.history.push("/login"),this.props.getUserProfile(+t),this.props.getStatus(+t)}},{key:"render",value:function(){return(0,c.jsx)("div",{children:this.props.profile&&(0,c.jsx)(U,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})})}}]),e}(n.Component),$=(0,Q.qC)((0,v.$j)((function(t){return{profile:t.profilePage.profile,userId:t.auth.userId,status:t.profilePage.status,isAuth:t.auth.isAuth}}),{getUserProfile:D.et,getStatus:D.lR,updateStatus:D.Nf}),T.EN,q.D)(X)}}]);
//# sourceMappingURL=75.6960ac40.chunk.js.map